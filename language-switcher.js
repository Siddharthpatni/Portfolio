// ==========================================
// LANGUAGE TRANSLATIONS
// ==========================================
const translations = {
    en: {
        // Navigation
        nav: {
            home: 'Home',
            about: 'About',
            experience: 'Experience',
            projects: 'Projects',
            skills: 'Skills',
            contact: 'Contact'
        },
        // Hero Section
        hero: {
            titles: [
                'Full-Stack Engineer',
                'AI/ML Specialist',
                'DevOps Architect',
                'Building End-to-End Intelligent Systems',
                'Architecting Scalable Applications',
                'Automating Workflows with AI',
                'Engineering Robust Software Solutions'
            ],
            description: 'Designing and deploying production-grade intelligent systems across the full stack. Specialized in scalable architectures, AI-driven automation, and robust software engineering practices.',
            viewWork: 'View My Work',
            getInTouch: 'Get In Touch'
        },
        // Expertise Pillars
        expertise: {
            fullStack: {
                title: 'Full-Stack Development',
                description: 'React, Next.js, Node.js, FastAPI, PostgreSQL - Building production-grade web applications from frontend to backend',
                badge: 'Frontend + Backend + Database'
            },
            ai: {
                title: 'AI & Machine Learning',
                description: 'PyTorch, TensorFlow, LangChain, LLMs - Developing intelligent systems and deploying AI models at scale',
                badge: 'NLP + Computer Vision + LLMs'
            },
            devops: {
                title: 'DevOps & Automation',
                description: 'Docker, Kubernetes, Jenkins, GitHub Actions - Orchestrating CI/CD pipelines and cloud infrastructure',
                badge: 'AWS + Azure + GCP'
            },
            softwareEng: {
                title: 'Software Engineering',
                description: 'Clean Architecture, System Design, Testing - Crafting maintainable, scalable, and robust software systems',
                badge: 'Design + Testing + Optimization'
            }
        },
        // About Section
        about: {
            title: 'About Me',
            intro: "I'm an AI/DevOps Engineer and M.Sc. student specializing in transforming complex technical challenges into elegant, scalable solutions.",
            p1: 'With a strong foundation in Python automation, MLOps, and CI/CD pipelines, I\'ve helped organizations improve reliability and reduce time-to-value through intelligent workflow orchestration and infrastructure optimization.',
            p2: 'Currently pursuing my Master\'s in Digital Technologies, I\'m focused on building production-ready ML infrastructure, implementing RAG pipelines with LangChain, and advancing AI governance through comprehensive model documentation.',
            currentlyBasedIn: 'Currently Based In',
            languages: 'Languages',
            stats: {
                years: 'Years Experience',
                workflows: 'Workflows Orchestrated',
                views: 'K+ Content Views',
                performance: '% Load Time Reduction'
            }
        },
        // Experience Section
        experience: {
            title: 'Professional Experience',
            education: 'Education',
            work: 'Work Experience'
        },
        // Projects Section  
        projects: {
            title: 'Featured Projects',
            currentFocus: 'Current Focus'
        },
        // Skills Section
        skills: {
            title: 'Technical Skills',
            radarCaption: 'Interactive Skills Proficiency Map'
        },
        // Contact Section
        contact: {
            title: "Let's Connect",
            subtitle: 'Get In Touch',
            description: "I'm always open to discussing new opportunities, collaborations, or just chatting about AI, DevOps, and technology.",
            email: 'Email',
            phone: 'Phone',
            location: 'Location'
        },
        // Footer
        footer: {
            copyright: 'Built with passion and code.'
        }
    },
    de: {
        // Navigation
        nav: {
            home: 'Startseite',
            about: 'Ãœber mich',
            experience: 'Erfahrung',
            projects: 'Projekte',
            skills: 'FÃ¤higkeiten',
            contact: 'Kontakt'
        },
        // Hero Section
        hero: {
            titles: [
                'Full-Stack Entwickler',
                'KI/ML Spezialist',
                'DevOps Architekt',
                'End-to-End intelligente Systeme entwickeln',
                'Skalierbare Anwendungen entwerfen',
                'Workflows mit KI automatisieren',
                'Robuste Software-LÃ¶sungen entwickeln'
            ],
            description: 'Entwicklung und Bereitstellung produktionsreifer intelligenter Systeme im gesamten Stack. Spezialisiert auf skalierbare Architekturen, KI-gesteuerte Automatisierung und robuste Software-Engineering-Praktiken.',
            viewWork: 'Meine Projekte',
            getInTouch: 'Kontakt aufnehmen'
        },
        // Expertise Pillars
        expertise: {
            fullStack: {
                title: 'Full-Stack Entwicklung',
                description: 'React, Next.js, Node.js, FastAPI, PostgreSQL - Entwicklung produktionsreifer Webanwendungen von Frontend bis Backend',
                badge: 'Frontend + Backend + Datenbank'
            },
            ai: {
                title: 'KI & Machine Learning',
                description: 'PyTorch, TensorFlow, LangChain, LLMs - Entwicklung intelligenter Systeme und Bereitstellung von KI-Modellen im groÃŸen MaÃŸstab',
                badge: 'NLP + Computer Vision + LLMs'
            },
            devops: {
                title: 'DevOps & Automatisierung',
                description: 'Docker, Kubernetes, Jenkins, GitHub Actions - Orchestrierung von CI/CD-Pipelines und Cloud-Infrastruktur',
                badge: 'AWS + Azure + GCP'
            },
            softwareEng: {
                title: 'Software Engineering',
                description: 'Clean Architecture, Systemdesign, Testing - Entwicklung wartbarer, skalierbarer und robuster Softwaresysteme',
                badge: 'Design + Testing + Optimierung'
            }
        },
        // About Section
        about: {
            title: 'Ãœber mich',
            intro: 'Ich bin KI/DevOps-Ingenieur und M.Sc.-Student, spezialisiert darauf, komplexe technische Herausforderungen in elegante, skalierbare LÃ¶sungen zu verwandeln.',
            p1: 'Mit einer soliden Grundlage in Python-Automatisierung, MLOps und CI/CD-Pipelines habe ich Organisationen dabei geholfen, die ZuverlÃ¤ssigkeit zu verbessern und die Time-to-Value durch intelligente Workflow-Orchestrierung und Infrastrukturoptimierung zu reduzieren.',
            p2: 'WÃ¤hrend meines Masterstudiums in Digital Technologies konzentriere ich mich auf den Aufbau produktionsreifer ML-Infrastruktur, die Implementierung von RAG-Pipelines mit LangChain und die Weiterentwicklung der KI-Governance durch umfassende Modelldokumentation.',
            currentlyBasedIn: 'Aktueller Standort',
            languages: 'Sprachen',
            stats: {
                years: 'Jahre Erfahrung',
                workflows: 'Orchestrierte Workflows',
                views: 'K+ Inhaltsaufrufe',
                performance: '% Ladezeitverbesserung'
            }
        },
        // Experience Section
        experience: {
            title: 'Berufserfahrung',
            education: 'Ausbildung',
            work: 'Berufserfahrung'
        },
        // Projects Section
        projects: {
            title: 'AusgewÃ¤hlte Projekte',
            currentFocus: 'Aktueller Fokus'
        },
        // Skills Section
        skills: {
            title: 'Technische FÃ¤higkeiten',
            radarCaption: 'Interaktive KompetenzÃ¼bersicht'
        },
        // Contact Section
        contact: {
            title: 'Kontakt aufnehmen',
            subtitle: 'Schreiben Sie mir',
            description: 'Ich bin immer offen fÃ¼r Diskussionen Ã¼ber neue MÃ¶glichkeiten, Zusammenarbeit oder einfach nur Ã¼ber KI, DevOps und Technologie zu plaudern.',
            email: 'E-Mail',
            phone: 'Telefon',
            location: 'Standort'
        },
        // Footer
        footer: {
            copyright: 'Mit Leidenschaft und Code erstellt.'
        }
    }
};

// ==========================================
// LANGUAGE SWITCHER
// ==========================================
class LanguageSwitcher {
    constructor() {
        this.currentLang = localStorage.getItem('preferredLanguage') || 'en';
        this.init();
    }

    init() {
        this.createLanguageToggle();
        this.applyLanguage(this.currentLang);
    }

    createLanguageToggle() {
        const navbar = document.querySelector('.nav-container');
        if (!navbar) return;

        const toggleContainer = document.createElement('div');
        toggleContainer.className = 'language-toggle';
        toggleContainer.innerHTML = `
            <button class="lang-btn ${this.currentLang === 'en' ? 'active' : ''}" data-lang="en">
                <span class="flag">ðŸ‡¬ðŸ‡§</span>
                <span class="lang-text">EN</span>
            </button>
            <button class="lang-btn ${this.currentLang === 'de' ? 'active' : ''}" data-lang="de">
                <span class="flag">ðŸ‡©ðŸ‡ª</span>
                <span class="lang-text">DE</span>
            </button>
        `;

        navbar.appendChild(toggleContainer);

        // Add event listeners
        toggleContainer.querySelectorAll('.lang-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const lang = e.currentTarget.dataset.lang;
                this.switchLanguage(lang);
            });
        });
    }

    switchLanguage(lang) {
        this.currentLang = lang;
        localStorage.setItem('preferredLanguage', lang);

        // Update active button
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.classList.toggle('active', btn.dataset.lang === lang);
        });

        this.applyLanguage(lang);

        // Restart typing animation with new language
        if (window.typewriterInstance) {
            window.typewriterInstance.texts = translations[lang].hero.titles;
            window.typewriterInstance.currentTextIndex = 0;
            window.typewriterInstance.currentCharIndex = 0;
            window.typewriterInstance.isDeleting = true;
        }
    }

    applyLanguage(lang) {
        const t = translations[lang];

        // Navigation
        const navLinks = ['home', 'about', 'experience', 'projects', 'skills', 'contact'];
        navLinks.forEach(link => {
            const element = document.querySelector(`a[href="#${link}"]`);
            if (element && t.nav[link]) {
                element.textContent = t.nav[link];
            }
        });

        // Hero Section
        const heroDesc = document.querySelector('.hero-description');
        if (heroDesc) heroDesc.textContent = t.hero.description;

        const viewWorkBtn = document.querySelector('.btn-primary');
        if (viewWorkBtn) viewWorkBtn.textContent = t.hero.viewWork;

        const getInTouchBtn = document.querySelector('.btn-secondary');
        if (getInTouchBtn) getInTouchBtn.textContent = t.hero.getInTouch;

        // Section Titles
        const sections = {
            '.about-section .section-title': t.about.title,
            '.experience-section .section-title': t.experience.title,
            '.projects-section .section-title': t.projects.title,
            '.skills-section .section-title': t.skills.title,
            '.contact-section .section-title': t.contact.title
        };

        Object.entries(sections).forEach(([selector, text]) => {
            const element = document.querySelector(selector);
            if (element) element.textContent = text;
        });

        // Expertise Pillars
        const pillars = document.querySelectorAll('.expertise-pillar');
        const pillarData = [t.expertise.fullStack, t.expertise.ai, t.expertise.devops, t.expertise.softwareEng];

        pillars.forEach((pillar, index) => {
            if (pillarData[index]) {
                const h3 = pillar.querySelector('h3');
                const p = pillar.querySelector('p');
                const badge = pillar.querySelector('.pillar-badge');

                if (h3) h3.textContent = pillarData[index].title;
                if (p) p.textContent = pillarData[index].description;
                if (badge) badge.textContent = pillarData[index].badge;
            }
        });

        // About Section
        const aboutPs = document.querySelectorAll('.about-text p');
        if (aboutPs[0]) aboutPs[0].innerHTML = `<strong>${t.about.intro}</strong>`;
        if (aboutPs[1]) aboutPs[1].textContent = t.about.p1;
        if (aboutPs[2]) aboutPs[2].textContent = t.about.p2;

        // Currently Based In
        const basedInTitle = document.querySelector('.about-location h3');
        if (basedInTitle) basedInTitle.textContent = t.about.currentlyBasedIn;

        const languagesTitle = document.querySelector('.language-skills h4');
        if (languagesTitle) languagesTitle.textContent = t.about.languages;

        // Stats Labels
        const statLabels = document.querySelectorAll('.stat-label');
        const statTexts = [t.about.stats.years, t.about.stats.workflows, t.about.stats.views, t.about.stats.performance];
        statLabels.forEach((label, index) => {
            if (statTexts[index]) label.textContent = statTexts[index];
        });

        // Skills Radar Caption
        const radarCaption = document.querySelector('.skills-radar-caption');
        if (radarCaption) radarCaption.textContent = t.skills.radarCaption;

        // Contact Section
        const contactSubtitle = document.querySelector('.contact-info h3');
        if (contactSubtitle) contactSubtitle.textContent = t.contact.subtitle;

        const contactDesc = document.querySelector('.contact-info p');
        if (contactDesc) contactDesc.textContent = t.contact.description;

        const contactLabels = document.querySelectorAll('.contact-label');
        const contactLabelTexts = [t.contact.email, t.contact.phone, t.contact.location];
        contactLabels.forEach((label, index) => {
            if (contactLabelTexts[index]) label.textContent = contactLabelTexts[index];
        });

        // Footer
        const footerText = document.querySelector('.footer p');
        if (footerText) {
            footerText.innerHTML = `&copy; 2024 Siddharth Patni. ${t.footer.copyright}`;
        }
    }
}

// Export for use in main script
if (typeof module !== 'undefined' && module.exports) {
    module.exports = { LanguageSwitcher, translations };
}
